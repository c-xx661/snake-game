# 贪吃蛇游戏

一个功能完整、界面美观的贪吃蛇游戏，使用HTML5 Canvas、JavaScript和CSS3开发。

## 功能特性

- 🎮 **完整的游戏功能**：蛇的移动控制、食物生成、碰撞检测、得分计算
- 🎯 **流畅的游戏体验**：平滑的动画效果、响应式控制
- 📱 **响应式设计**：适配不同屏幕尺寸，支持桌面和移动设备
- 🎨 **美观的界面**：现代化的设计、动态效果、视觉反馈
- ⚡ **性能优化**：高效的渲染循环、事件处理
- 🖥️ **多控制方式**：支持方向键、WASD键和触摸屏幕控制
- 🔄 **游戏速度递增**：随着得分增加，游戏速度逐渐提升，增加挑战性
- 🎚️ **游戏速度调节**：可通过滑块实时调整游戏速度，适应不同玩家的需求
- 🎮 **多种游戏模式**：
  - **经典模式**：传统的贪吃蛇游戏规则
  - **道具模式**：包含各种道具，增加游戏趣味性
  - **无尽模式**：边界穿越，蛇可以从屏幕一边穿到另一边
- 💪 **道具系统**：
  - **速度提升**：临时增加游戏速度
  - **速度减缓**：临时降低游戏速度
  - **身体增长**：立即增加蛇的长度
  - **身体缩短**：立即缩短蛇的长度
  - **分数加倍**：获得额外分数奖励
- 🔊 **音效系统**：
  - **游戏开始**：游戏启动时的音效
  - **吃到食物**：蛇吃到食物时的音效
  - **吃到道具**：蛇吃到道具时的音效
  - **游戏结束**：游戏结束时的音效
  - **按钮点击**：点击游戏按钮时的音效
- 📱 **手机兼容性**：
  - **触摸控制**：优化的触摸滑动控制，支持方向操作
  - **响应式布局**：自动适配不同屏幕尺寸
  - **性能优化**：针对移动设备的性能优化
  - **触摸反馈**：提供视觉触摸反馈
  - **防止页面滚动**：在游戏区域触摸时不会触发页面滚动

## 如何运行

### 方法一：使用本地服务器

1. 确保你的电脑上安装了Python
2. 打开命令行终端，进入项目目录
3. 运行以下命令启动本地服务器：
   ```bash
   # 使用Python 3
   python -m http.server 3000
   
   # 或使用Python 2
   python -m SimpleHTTPServer 3000
   ```
4. 打开浏览器，访问 `http://localhost:3000` 即可开始游戏

### 方法二：直接打开HTML文件

1. 在文件浏览器中找到 `index.html` 文件
2. 双击打开该文件，浏览器会自动加载并运行游戏

## 游戏控制

### 键盘控制
- **方向键**：控制蛇的移动方向
- **WASD键**：控制蛇的移动方向（备选方案）
- **空格键**：开始/暂停游戏

### 按钮控制
- **开始**：开始新游戏
- **暂停**：暂停当前游戏
- **重新开始**：重置游戏状态
- **再玩一次**：游戏结束后重新开始

### 触摸控制
- 在移动设备上，通过滑动屏幕来控制蛇的移动方向
  - 向上滑动：蛇向上移动
  - 向下滑动：蛇向下移动
  - 向左滑动：蛇向左移动
  - 向右滑动：蛇向右移动

### 游戏设置

#### 速度调节
- 使用游戏界面中的速度滑块可以实时调整游戏速度
- 速度范围：5 - 20（默认为10）
- 调整后会立即生效，不需要重新开始游戏

#### 游戏模式选择
- **经典模式**：传统的贪吃蛇游戏规则，碰到边界或自身会游戏结束
- **道具模式**：在经典模式的基础上，会随机生成各种道具
- **无尽模式**：蛇可以从屏幕一边穿到另一边，不会因边界碰撞而结束游戏
- 选择游戏模式后，需要重新开始游戏才能生效

#### 道具系统（仅在道具模式下可用）
- **速度提升**（蓝色三角形）：临时增加游戏速度
- **速度减缓**（橙色三角形）：临时降低游戏速度
- **身体增长**（绿色方形）：立即增加蛇的长度3节
- **身体缩短**（紫色方形）：立即缩短蛇的长度3节
- **分数加倍**（黄色星形）：获得50分的额外奖励
- 道具会在游戏中随机生成，有一定的生命周期，过期后会消失
- 蛇头碰到道具即可获得相应效果

### 音效系统
- **音效类型**：
  - 游戏开始音效
  - 吃到食物音效
  - 吃到道具音效
  - 游戏结束音效
  - 按钮点击音效
- **移动设备注意事项**：
  - 在移动设备上，需要先点击屏幕解锁音频（浏览器安全限制）
  - 首次游戏时可能需要点击屏幕激活音效
- **音效特性**：
  - 使用Web Audio API生成，无需外部音频文件
  - 音量适中，不会过于刺耳
  - 音效与游戏动作同步，增强游戏体验

### 手机兼容性

#### 在手机上玩游戏
1. **打开游戏**：
   - 在手机浏览器中访问游戏URL（如 `http://localhost:3000`，或部署后的在线地址）
   - 或扫描游戏页面的二维码（如果有）

2. **触摸控制**：
   - 在游戏区域内滑动手指来控制蛇的移动方向
   - 向上滑动：蛇向上移动
   - 向下滑动：蛇向下移动
   - 向左滑动：蛇向左移动
   - 向右滑动：蛇向右移动
   - 滑动时会有视觉反馈

3. **界面适配**：
   - 游戏会自动适配手机屏幕尺寸
   - 所有UI元素会调整为适合触摸的大小
   - 游戏区域会占据屏幕的主要部分

4. **性能优化**：
   - 游戏针对移动设备进行了性能优化
   - 渲染帧率会根据设备性能自动调整
   - 触摸响应速度快，操作流畅

#### 浏览器兼容性
- **推荐浏览器**：
  - Chrome（Android/iOS）
  - Safari（iOS）
  - Firefox（Android）
- **最低要求**：
  - 支持HTML5 Canvas
  - 支持Web Audio API
  - 支持ES6语法

#### 常见问题及解决方案
- **问题**：游戏没有音效
  **解决方案**：点击游戏区域解锁音频，或刷新页面后再次点击

- **问题**：触摸控制不灵敏
  **解决方案**：确保在游戏区域内滑动，滑动距离不要太短

- **问题**：游戏运行卡顿
  **解决方案**：尝试降低游戏速度，或关闭其他后台应用

## 项目结构

```
tanchishe/
├── index.html          # 主页面
├── css/
│   └── style.css       # 样式文件
├── js/
│   ├── game.js         # 游戏逻辑核心
│   ├── renderer.js     # 界面渲染模块
│   ├── controls.js     # 用户交互模块
│   ├── utils.js        # 工具函数
│   └── main.js         # 主入口文件
└── README.md           # 项目说明
```

## 核心模块说明

### game.js
- 游戏核心逻辑
- 蛇的移动和碰撞检测
- 食物生成
- 游戏状态管理
- 得分计算

### renderer.js
- Canvas 初始化和渲染
- 游戏元素绘制
- 响应式布局
- 界面状态更新

### controls.js
- 键盘事件处理
- 按钮点击事件
- 触摸设备支持
- 游戏控制逻辑

### utils.js
- 工具函数
- 随机数生成
- 碰撞检测辅助函数
- 颜色生成

### main.js
- 游戏初始化
- 模块集成
- 事件监听设置

## 技术栈

- **前端框架**：原生HTML5 + CSS3 + JavaScript
- **绘图技术**：HTML5 Canvas
- **响应式设计**：CSS Flexbox + Media Queries
- **事件处理**：原生DOM事件
- **动画效果**：requestAnimationFrame

## 游戏规则

1. 蛇从屏幕左侧开始，初始方向向右
2. 使用方向键或WASD键控制蛇的移动方向
3. 蛇会自动向前移动，你需要控制它的方向
4. 当蛇头碰到食物时，蛇身会变长一节，得分增加10分
5. 当蛇头碰到边界或自身身体时，游戏结束
6. 随着得分增加，游戏速度会逐渐提升
7. 游戏结束后，你可以查看最终得分并选择再玩一次

## 浏览器兼容性

- Chrome ✅
- Firefox ✅
- Safari ✅
- Edge ✅
- 移动浏览器 ✅

## 开发说明

### 游戏配置

在 `main.js` 文件中，你可以调整以下游戏配置：

```javascript
const gameConfig = {
    gridSize: 20,        // 网格大小（像素）
    initialSpeed: 10,     // 初始速度（帧/秒）
    speedIncrease: 0.5,   // 每次得分后速度增加量
    canvasWidth: 500,     // Canvas宽度（像素）
    canvasHeight: 500     // Canvas高度（像素）
};
```

### 样式定制

在 `css/style.css` 文件中，你可以修改游戏的样式，包括颜色、字体、布局等。

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！

---

希望你喜欢这个贪吃蛇游戏！ 🐍🎮